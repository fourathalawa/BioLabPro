<

<body>
<!-- Layout wrapper -->
<div class="layout-wrapper layout-content-navbar">
  <div class="layout-container">
    <!-- Menu -->

    <app-sidebar></app-sidebar>
    <!-- / Menu -->

    <!-- Layout container -->
    <div class="layout-page">
      <!-- Navbar -->

    <app-headerback></app-headerback>

      <!-- / Navbar -->

      <!-- Content wrapper -->
      <div class="content-wrapper">
        <!-- Content -->

        <div class="container-xxl flex-grow-1 container-p-y">
          <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Users /</span> List</h4>






          <hr class="my-5" />
          <!-- Contextual Classes -->

          <div class="card">
            <h5 class="card-header">Utilisateurs </h5>
            <div  *ngIf="isAlert" class="alert alert-danger alert-dismissible fade show" role="alert" style="width: 550px; border-radius: 30px;margin-left: 300px;margin-top: 50px;background-color: #FFE0DB">
              <strong style="color: #FF3E1D">Are you sure you want to ban this item?</strong>
              <button (click)="ban2()" type="button" class="close" data-dismiss="alert" aria-label="Close" style="background-color: #3291E6 ; margin-left: 15px;border-radius: 30px;" >
                <span aria-hidden="true">YES </span>
              </button>
              <button (click)="hideNotif()" type="button" class="close" data-dismiss="alert" aria-label="Close" style="margin-left: 35px ;border-radius: 30px;">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <fieldset >
            <div class="table-responsive text-nowrap">
              <table class="table">
                <thead>
                <tr>
                  <th>Nom complet</th>
                  <th>NÂ° CIN </th>
                  <th>Image</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
                </thead>
                <tbody class="table-border-bottom-0">

                <tr  *ngFor="let user of users;let i = index ; " [ngClass] ="{'table-active': !user.Banned , 'table-danger': user.Banned}" >
                  <td> <strong>{{i+1}}</strong><strong style="margin-left: 25px">  {{user.userFirstName}} {{user.userLastName}}</strong></td>
                  <td><strong>{{user.id}}</strong></td>
                  <td>
                    <ul class="list-unstyled users-list m-0 avatar-group d-flex align-items-center">
                      <li
                        data-bs-toggle="tooltip"
                        data-popup="tooltip-custom"
                        data-bs-placement="top"
                        class="avatar avatar-xs pull-up"
                        title="Lilian Fuller"
                      >
                        <img src="../assets/img/avatars/5.png" alt="Avatar" class="rounded-circle" />
                      </li>
                      <li
                        data-bs-toggle="tooltip"
                        data-popup="tooltip-custom"
                        data-bs-placement="top"
                        class="avatar avatar-xs pull-up"
                        title="Sophia Wilkerson"
                      >
                        <img src="../assets/img/avatars/6.png" alt="Avatar" class="rounded-circle" />
                      </li>
                      <li
                        data-bs-toggle="tooltip"
                        data-popup="tooltip-custom"
                        data-bs-placement="top"
                        class="avatar avatar-xs pull-up"
                        title="Christina Parker"
                      >
                        <img src="../assets/img/avatars/7.png" alt="Avatar" class="rounded-circle" />
                      </li>
                    </ul>
                  </td>
                  <td>
                    <span *ngIf="!user.isBanned" class="badge bg-label-success me-1"> Active </span>
                    <span *ngIf="user.isBanned" class="badge bg-label-danger me-1"> Blocked </span>
                  </td>
                  <td>
                    <div class="dropdown">
                      <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                        <i class="bx bx-dots-vertical-rounded"></i>
                      </button>
                      <div class="dropdown-menu">
                        <a (click)="redirectToEdit(user.id)" class="dropdown-item" href="javascript:void(0);"
                        ><i  class="bx bx-edit-alt me-1"></i> Edit</a
                        >
                        <a (click)="redirectToShow(user.id) "class="dropdown-item" href="javascript:void(0);"
                        ><i class="bx bx-trash me-1"></i> show </a
                        >
                        <a *ngIf="!user.isBanned" (click)="ban(user.id)" class="dropdown-item" href="javascript:void(0);"
                        ><i class="bx bx-trash me-1"></i> Ban </a
                        >
                        <a *ngIf="user.isBanned" (click)="allow(user.id)" class="dropdown-item" href="javascript:void(0);"
                        ><i class="bx bx-trash me-1"></i> Allow </a
                        >
                        <a  (click)="redirectToChat(user.id)" class="dropdown-item" href="javascript:void(0);"
                        ><i class="bx bx-trash me-1"></i> Send Message </a
                        >
                      </div>
                    </div>
                  </td>
                </tr>




                </tbody>
              </table>
            </div>
            </fieldset>
          </div>
          <!--/ Contextual Classes -->




        </div>



        <div class="content-backdrop fade"></div>
      </div>
      <!-- Content wrapper -->
    </div>
    <!-- / Layout page -->
  </div>

  <!-- Overlay -->
  <div class="layout-overlay layout-menu-toggle"></div>
</div>
<!-- / Layout wrapper -->




</body>

